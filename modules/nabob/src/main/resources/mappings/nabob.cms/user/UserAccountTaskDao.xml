<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nabobsite.modules.nabob.cms.user.dao.UserAccountTaskDao">
	
	<!-- 查询数据
	<select id="findList" resultType="UserAccountTask">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->

	<update id="updateUserAccountTask" parameterType="com.nabobsite.modules.nabob.cms.user.entity.UserAccountTask">
		update
			t1_user_account_task
		<set>
			<if test="taskInitialNum != null and taskInitialNum !=0">
				task_initial_num = task_initial_num + #{taskInitialNum},
			</if>
			<if test="taskOrderNum != null and taskOrderNum !=0">
				task_order_num = task_order_num + #{taskOrderNum},
			</if>
			<if test="remarks != null and remarks !='' ">
				remarks = #{remarks},
			</if>
			updated = sysdate()
		</set>
		<where>
			<if test="totalMoney != null and totalMoney !=0">
				(task_initial_num + #{taskInitialNum}) >= 0 and
			</if>
			user_id = #{userId}
		</where>
	</update>
</mapper>