<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nabobsite.modules.nabob.cms.user.dao.UserTeamDao">
	
	<!-- 查询数据
	<select id="findList" resultType="UserTeam">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->

	<!--增加团队-->
	<update id="updateTeamNum" parameterType="com.nabobsite.modules.nabob.cms.user.entity.UserTeam">
		update
			t1_user_team
		<set>
			<if test="team1Num != null and team1Num >0">
				team_num = team_num + #{team1Num},
				team1_num = team1_num + #{team1Num},
			</if>
			<if test="team2Num != null and team2Num >0">
				team_num = team_num + #{team2Num},
				team2_num = team2_num + #{team2Num},
			</if>
			<if test="team3Num != null and team3Num >0">
				team_num = team_num + #{team3Num},
				team3_num = team3_num + #{team3Num},
			</if>
			updated = sysdate()
		</set>
		<where>
			user_id = #{userId}
		</where>
	</update>
	
</mapper>